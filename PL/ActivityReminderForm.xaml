<Window x:Class="Heyam.ActivityReminderForm"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:hc="https://handyorg.github.io/handycontrol"      
        xmlns:local="clr-namespace:Heyam"
        mc:Ignorable="d"
        ResizeMode="NoResize"
        WindowStyle="None"
        WindowStartupLocation="CenterScreen"
        AllowsTransparency="True"      
        Title="ActivityReminderForm" Height="750" Width="1000" FontFamily="pack://application:,,,/Resources/Fonts/#IRANSansWeb(FaNum)" FlowDirection="RightToLeft">

    <Border x:Name="border" BorderThickness="5" CornerRadius="5">
        <Border.BorderBrush>
            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                <GradientStop Color="#292556" Offset="0.0"/>
                <GradientStop Color="#1C1C1C" Offset="1.0"/>
            </LinearGradientBrush>
        </Border.BorderBrush>
        <Border.Effect>
            <DropShadowEffect BlurRadius="7" ShadowDepth="1" Color="#31426A"/>
        </Border.Effect>
        <Grid>
            <Grid x:Name="MainGrid" Margin="10,10,10,5">
                <TextBlock x:Name="TutorialTextBlock" Text="برای باز کردن فرم، روی دکمه موردنظر کلیک کنید" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="32" Foreground="#1754E1"/>
                <!-- فرم کشویی -->
                <Grid x:Name="AddMeetingSlideDownForm" 
              Height="0"
              VerticalAlignment="Top" 
              Margin="0,200,0,0" 
              Background="#F0F0F0" 
              ClipToBounds="True">
                    <StackPanel Margin="10">
                        <TextBlock Text="ثبت اطلاعات جلسه" Background="#007ACC" Foreground="White" Padding="10 2"
                           FontSize="16" FontWeight="Bold"
                           Margin="0,0,0,10"/>
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Margin="0 0 0 10">
                            <TextBlock Text="موکل مربوطه:" FontWeight="Bold" Height="20"/>
                            <!-- ComboBox قابل ویرایش -->
                            <ComboBox IsEditable="True" BorderBrush="DarkGray"
                        x:Name="SelectClientCB" Grid.Column="1" Width="235" Margin="5,0,0,0" SelectionChanged="SelectClientCB_SelectionChanged" />
                            <TextBlock Text="شماره پرونده:" FontWeight="Bold" Margin="8 0 0 0" Height="20"/>
                            <!-- ComboBox قابل ویرایش -->
                            <ComboBox IsEditable="True" BorderBrush="DarkGray"
                        x:Name="SelectCaseCB" Grid.Column="1" Width="230" Margin="3,0,0,0" Height="30" SelectionChanged="SelectCaseCB_SelectionChanged"/>
                            <TextBlock x:Name="CaseSubjectLabel" Text="" Width="190" Margin="25 0" FontSize="13" FontWeight="Bold" Foreground="#1259D5" VerticalAlignment="Center"/>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Left">
                            <TextBlock Text="موضوع جلسه:" FontWeight="Bold" Height="20"/>
                            <TextBox x:Name="MeetingSubject" BorderBrush="DarkGray" Width="230" Margin="5,-3,0,0" VerticalAlignment="Center" />
                            <TextBlock Text="مکان جلسه:" FontWeight="Bold" Margin="10 0 0 0" Height="20"/>
                            <TextBox x:Name="MeetingPlace" BorderBrush="DarkGray" Width="230" Margin="9,-3,0,0"/>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Margin="0 10 0 10">
                            <TextBlock Text="تاریخ و ساعت جلسه:" FontWeight="Bold" Height="20"/>
                            <hc:PersianDateTimePicker x:Name="MeetingDateTime" Width="197" Margin="5,0,0,0" SelectedDateTimeChanged="MeetingDateTime_SelectedDateTimeChanged"/>
                            <CheckBox x:Name="ReminderMeetingCheckBox" Content=" یادآوری جلسه؟" Cursor="Hand" FontWeight="Bold" Margin="10,0,10,0" Checked="ReminderMeetingCheckBox_Checked" Unchecked="ReminderMeetingCheckBox_Unchecked"/>
                            <TextBlock x:Name="MeetingReminderText" Text="یادآوری در روز و ساعت انتخابی و همچنین یک روز قبل از تاریخ انتخابی اعمال می شود" Visibility="Hidden" Background="Gold" Foreground="Black" Padding="5 2" FontWeight="Bold" FontSize="11" Height="20"/>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Margin="0 0 0 0">
                            <TextBlock Text="توضیحات:" FontWeight="Bold" Margin="0 40 0 0"/>
                            <TextBox 
                            x:Name="MeetingDescriptionTB" Grid.Column="1" Margin="5" BorderBrush="DarkGray"
                            AcceptsReturn="True" 
                            TextWrapping="Wrap" 
                            VerticalContentAlignment="Top" 
                            VerticalScrollBarVisibility="Auto"     
                            HorizontalScrollBarVisibility="Disabled" 
                            FontSize="12" 
                            Width="675"                 
                            Height="100" 
                            />
                        </StackPanel>
                        <TextBlock Text="ثبت مهلت قانونی برای پیگیری در مراجع قضایی (اختیاری)" 
                    FontSize="16" FontWeight="Bold" Background="#007ACC" Foreground="White" Padding="10 2"
                    Margin="0,0,0,10"/>
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Margin="0 10 0 0">
                            <TextBlock Text="تاریخ آغاز:" FontWeight="Bold"/>
                            <hc:PersianDatePicker x:Name="MeetingStartDateDP" Width="247" Margin="5,-3,0,10"/>
                            <TextBlock Text="تاریخ پایان:" FontWeight="Bold" Margin="120 0 0 0"/>
                            <hc:PersianDatePicker x:Name="MeetingEndDateDP" Width="247" Margin="5,-3,0,10"/>
                        </StackPanel>
                        <Button x:Name="SubmitMeetingBTN" Content="ثبت اطلاعات" Cursor="Hand" Background="ForestGreen" Foreground="White" FontWeight="Bold" FontSize="14" Width="150" HorizontalAlignment="Left" Margin="0,20,0,0" Height="36" Click="SubmitMeetingBTN_Click"/>
                    </StackPanel>
                </Grid>

                <!--فرم کشویی برای لیست جلسات-->
                <Grid x:Name="SlideDownFormMeetingList" 
                      Height="0" 
                      VerticalAlignment="Top" 
                      Margin="0,200,0,0" 
                      Background="#F0F0F0" 
                      ClipToBounds="True">

                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="1*" />
                        <ColumnDefinition Width="3*" />
                    </Grid.ColumnDefinitions>

                    <!-- تقویم -->
                    <hc:SearchBar x:Name="SearchMeetings" HorizontalAlignment="Left" Margin="39,10,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="200" TextChanged="SearchMeetings_TextChanged"/>
                    <TextBlock x:Name="MeetingsPlaceholderText" Text="جستجو براساس نام موکل" IsHitTestVisible="False" Foreground="Gray" HorizontalAlignment="Left" Margin="45,13,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="130"/>
                    <TextBlock Text="انتخاب تاریخ جلسه موردنظر از تقویم" FontWeight="Bold" Background="#007ACC" Foreground="White" Padding="10 0" HorizontalAlignment="Left" Margin="39,54,0,376"/>
                    <hc:PersianCalendar x:Name="MeetingCalendar"
                                        Grid.Column="0" VerticalAlignment="Bottom"
                                        Margin="6,0,698,53" SelectedDatesChanged="MeetingCalendar_SelectedDatesChanged" Grid.ColumnSpan="2"
                    />
                    <Button x:Name="RefreshMeetingDataGridBTN" Cursor="Hand" Content="بروزرسانی لیست" BorderBrush="Black" BorderThickness="2" Background="Gold" FontWeight="Bold" HorizontalAlignment="Left" Margin="89,404,0,0" VerticalAlignment="Top" Height="32" Click="RefreshMeetingDataGridBTN_Click"/>
                    <!-- جدول -->
                    <DataGrid x:Name="MeetingsDGV"
                              Grid.Column="1"
                              Margin="30,5,5,5"
                              AutoGenerateColumns="False"
                              CanUserAddRows="False">
                        <DataGrid.Columns>
                            <DataGridTemplateColumn Header="کاربر" Width="55">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding UserTypeText}" Foreground="{Binding UserTypeColor}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>
                            <DataGridTextColumn Header="موکل" Binding="{Binding ClientName}" Width="*"/>
                            <DataGridTextColumn Header="موضوع جلسه" Binding="{Binding MeetingSubject}" Width="*"/>
                            <DataGridTextColumn Header="زمان" Binding="{Binding SetDateShamsi}" Width="160"/>
                            <DataGridTextColumn Header="یادآوری دارد؟" Binding="{Binding IsReminderNextMeetingSet}" Width="90"/>
                            <!-- ستون دکمه نمایش جزئیات -->
                            <DataGridTemplateColumn Header="جزئیات" Width="110">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <Button x:Name="ShowMeetingDetailsBTN" Content="👁 مشاهده" 
                                            Tag="{Binding Id}" Cursor="Hand" Click="ShowMeetingDetailsBTN_Click" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>
                        </DataGrid.Columns>
                    </DataGrid>
                </Grid>

                <!--فرم کشویی برای لیست جلسات-->
                <Grid x:Name="SlideDownFormRemindersList" 
                      Height="0" 
                      VerticalAlignment="Top" 
                      Margin="0,200,0,0" 
                      Background="#F0F0F0" 
                      ClipToBounds="True">

                    <!-- منوی انتخاب نوع منبع -->
                    <StackPanel Background="Gold" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,0,0,421">
                        <RadioButton x:Name="RemindersRB" IsChecked="True" Content="لیست یادآورهای ثبت شده" Margin="10,0" Checked="RemindersRB_Checked"/>
                        <RadioButton x:Name="InteractionRB" Content="تعاملات" Margin="10,0" Checked="InteractionRB_Checked"/>
                        <RadioButton x:Name="CorrespondenceRB" Content="مکاتبات" Margin="10,0" Checked="CorrespondenceRB_Checked"/>
                        <RadioButton x:Name="LegalBriefRB" Content="لایحه‌ها" Margin="10,0" Checked="LegalBriefRB_Checked"/>
                        <RadioButton x:Name="MeetingsRB" Content="جلسات" Margin="10,0" Checked="MeetingsRB_Checked"/>
                        <RadioButton x:Name="PaymentRB" Content="پرداخت ها" Margin="10,0" Checked="PaymentRB_Checked"/>
                        <RadioButton x:Name="PersonalNoteRB" Content="یادداشت ها" Margin="10,0" Checked="PersonalNoteRB_Checked"/>

                    </StackPanel>

                    <!-- دیتاگرید نمایش یادآورها -->
                    <DataGrid x:Name="RemindersDGV"
                    AutoGenerateColumns="False"
                    IsReadOnly="True"
                    CanUserAddRows="False"
                    Margin="0,36,0,0"/>
                </Grid>

                <!--فرم کشویی یادداشت های شخصی-->
                <Grid x:Name="SlideDownFormNotes" Margin="0 135 0 0" Height="0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="562*"/>
                        <ColumnDefinition Width="29*"/>
                        <ColumnDefinition Width="380*"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="50"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <!-- Header -->
                    <DockPanel Grid.Row="0" Background="#2E3B4E" Height="50" Grid.ColumnSpan="3">
                        <TextBlock Text="یادداشت‌های شخصی" Foreground="White" VerticalAlignment="Center" FontSize="18" Margin="10"/>
                    </DockPanel>

                    <!-- Content -->
                    <Grid Grid.Row="1" Margin="5,5,5,5" Grid.ColumnSpan="3">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="250"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <!-- Sidebar (Categories and Tags) -->
                        <StackPanel Background="#D9E2F3" Margin="5">
                            <TextBlock Text="دسته‌بندی‌ها" FontSize="14" FontWeight="Bold" Margin="0,0,0,10"/>
                            <ListBox Name="CategoryListBox" Height="95" SelectionChanged="CategoryListBox_SelectionChanged"/>
                            

                            <!-- فیلد ورود متن برای اضافه کردن آیتم -->
                            <TextBox x:Name="CategoryTextBox" HorizontalAlignment="Left" Width="200" Margin="20,15,0,5" Height="30" TextChanged="CategoryTextBox_TextChanged"/>
                            <TextBlock x:Name="CategoryPlaceholderText" Text="نام دسته بندی را وارد کنید ..." Margin="0 -30 35 5" IsHitTestVisible="False" Foreground="Gray" TextWrapping="Wrap" Width="148"/>
                            <WrapPanel HorizontalAlignment="Center">
                                <Button x:Name="RemoveCategoryBTN" Content="حذف دسته‌بندی" Cursor="Hand" IsEnabled="False" Background="DarkRed" Foreground="White" Margin="5" Height="34" Click="RemoveCategoryBTN_Click"/>
                                <Button x:Name="AddCategoryBTN" Content="افزودن دسته‌بندی" Cursor="Hand" Background="#1259D5" Foreground="White" Margin="5" Height="34" Click="AddCategoryBTN_Click"/>
                            </WrapPanel>
                            <Separator Margin="10"/>
                            <Image Height="134" Width="148" Margin="0 25 0 0" Source="Resources/Images/attorney.png"/>
                            <TextBlock Text="نرم افزار حقوقی هــــیام" Foreground="Black" FontWeight="Bold" HorizontalAlignment="Center"/>
                        </StackPanel>

                        <!-- Main Area -->
                        <Grid Grid.Column="1" Margin="5">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                           
                            <!-- Toolbar -->
                            <StackPanel Orientation="Horizontal" Grid.Row="0" Background="#E6E6E6">
                                <Button x:Name="AddNoteBTN" Content="افزودن یادداشت" Background="#1259D5" Foreground="White" Cursor="Hand" Margin="5" Height="31" Click="AddNoteBTN_Click"/>
                                <Button x:Name="DeleteNoteBTN" Content="حذف یادداشت" IsEnabled="False" Cursor="Hand" Margin="5" Height="32" FontSize="12" Background="#B30000" Foreground="White" Click="DeleteNoteBTN_Click"/>
                                <hc:SearchBar x:Name="SearchNote" Width="350" Height="30" Margin="30 0" TextChanged="SearchNote_TextChanged"/>
                                <TextBlock x:Name="NotesPlaceholderText" Text="جستجو براساس عنوان یادداشت،دسته بندی ..." IsHitTestVisible="False" Foreground="Gray" Margin="-450 0 0 0" TextWrapping="Wrap" Width="294" Height="22"/>
                            </StackPanel>

                            <!-- Notes List -->
                            <DataGrid x:Name="PersonalNotesDGV"                                     
                                      Margin="0,5,0,0"
                                      AutoGenerateColumns="False"
                                      CanUserAddRows="False" Grid.Row="1" SelectionChanged="PersonalNotesDGV_SelectionChanged" >
                                <DataGrid.Columns>
                                    <DataGridTemplateColumn Header="کاربر" Width="100">
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <TextBlock Text="{Binding UserTypeText}" Foreground="{Binding UserTypeColor}" />
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                    </DataGridTemplateColumn>
                                    <DataGridTextColumn Header="عنوان" Binding="{Binding Title}" Width="150"/>
                                    <DataGridTextColumn Header="دسته بندی" Binding="{Binding Category}" Width="150"/>
                                    <DataGridTextColumn Header="یادآوری دارد؟" Binding="{Binding IsReminderSet}" Width="140"/>
                                    <!-- ستون دکمه نمایش جزئیات -->
                                    <DataGridTemplateColumn Header="جزئیات" Width="130">
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <Button x:Name="ShowNoteDetailsBTN" Content="👁 مشاهده" 
                                                Tag="{Binding Id}" Cursor="Hand" Click="ShowNoteDetailsBTN_Click" />
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                    </DataGridTemplateColumn>
                                </DataGrid.Columns>
                            </DataGrid>
                        </Grid>
                    </Grid>
                </Grid>

                <!-- Main Sections -->
                <UniformGrid Columns="4" HorizontalAlignment="Center" VerticalAlignment="Top" Width="950" >
                    <!-- Meetings -->
                    <Border x:Name="MeetingBox" Background="#2B2B3A" CornerRadius="10" Margin="10" Padding="10">
                        <StackPanel>
                            <TextBlock Text="مدیریت جلسات" HorizontalAlignment="Center" Foreground="White" FontSize="20" FontWeight="Bold" Margin="0,5,0,5"/>
                            <Button x:Name="AddMeetingBTN" Content="افزودن" Cursor="Hand" Background="#007ACC" Foreground="White" FontSize="12" Margin="0,8" Height="31" Width="62" Click="AddMeetingBTN_Click" />
                            <Button x:Name="MeetingListBTN" Content="لیست جلسات" Cursor="Hand" Background="#007ACC" Foreground="White" Margin="0,5" Height="34" Width="100" Click="MeetingListBTN_Click"/>
                        </StackPanel>
                    </Border>

                    <!-- Automated Reminders -->
                    <Border x:Name="RemindersBox" Background="#2B2B3A" CornerRadius="10" Margin="10" Padding="10">
                        <StackPanel>
                            <TextBlock Text="یادآوری های ثبت شده" HorizontalAlignment="Center" Foreground="White" FontSize="18" FontWeight="Bold" Margin="0,5,0,5"/>
                            <!--<Button  Content="افزودن" Cursor="Hand" Background="#007ACC" Foreground="White" FontSize="12" Margin="0,10" Height="31" Width="62"/>-->
                            <Button x:Name="RemindersListBTN" Content="لیست یادآور ها" Cursor="Hand" Background="#007ACC" Foreground="White" Margin="0,20" Height="34" Width="100" Click="RemindersListBTN_Click"/>
                        </StackPanel>
                    </Border>

                    <!-- Personal Notes -->
                    <Border x:Name="NotesBox" Background="#2B2B3A" CornerRadius="10" Margin="10" Padding="10">
                        <StackPanel>
                            <TextBlock Text="یادداشت های شخصی وکیل" Foreground="White" FontSize="16" FontWeight="Bold" Margin="0,5,0,5" Width="184"/>
                            <!--<Button x:Name="AddNotesBTN" Content="افزودن" Cursor="Hand" Background="#007ACC" Foreground="White" FontSize="12" Margin="0,10" Height="31" Width="62" Click="AddNotesBTN_Click"/>-->
                            <Button x:Name="NotesManagementBTN" Content="مدیریت یادداشت ها" Cursor="Hand" Background="#007ACC" Foreground="White" Margin="0,25" Height="34" Width="121" Click="NotesManagementBTN_Click"/>
                        </StackPanel>
                    </Border>
                    <!-- Deadlines -->
                    <Border x:Name="LawyersTeamBox" Background="#4E4A4A" CornerRadius="10" Margin="10" Padding="10" IsEnabled="False">
                        <StackPanel>
                            <TextBlock Text="هماهنگی تیمی وکلا" HorizontalAlignment="Center" Foreground="White" FontSize="20" FontWeight="Bold" Margin="0,5,0,5"/>
                            <TextBlock Text="(غیر فعال)" HorizontalAlignment="Center" Foreground="Yellow" FontSize="20" FontWeight="Bold" Margin="0,5,0,5"/>
                            <!--<TextBlock Text="نسخه حرفه ای" HorizontalAlignment="Center" Foreground="Yellow" TextDecorations="Underline" FontSize="20" FontWeight="Bold" Margin="0,5,0,5"/>-->
                            <!--<Button Content="Set Deadline" Background="#007ACC" Foreground="White" Padding="10" Margin="0,5" Height="38"/>
                        <Button Content="View Deadlines" Background="#007ACC" Foreground="White" Padding="10" Margin="0,5" Height="41"/>-->
                        </StackPanel>
                    </Border>
                </UniformGrid>
                <Button x:Name="CloseBTN" Background="#1051E7" Foreground="White" Content="برگشت" Width="100"  Height="31" Cursor="Hand" Click="CloseBTN_Click" HorizontalAlignment="Left" Margin="860,690,0,0" VerticalAlignment="Top"/>
            </Grid>
            <!-- پاپ‌آپ و نمایش جزئیات -->
            <Grid x:Name="MeetingDetailsPopup" Visibility="Collapsed"
                  HorizontalAlignment="Center" VerticalAlignment="Top"
                  Height="425"
                  Width="600" Panel.ZIndex="99">
                <Border Background="White" Padding="15" CornerRadius="10" BorderBrush="Black" BorderThickness="3" Width="580" Height="425">
                    <StackPanel>
                        <TextBlock Text="📜 جزئیات جلسه" FontSize="18" FontWeight="Bold" Foreground="DarkBlue" Margin="0,0,0,25"/>
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Margin="0 0 0 10">
                            <TextBlock Text="شماره پرونده:" FontWeight="Bold" Height="20"/>
                            <TextBox x:Name="CaseNumberPopupTB" Text="{Binding CaseNumber}" Margin="5 0" Width="200" IsReadOnly="True"/>
                            <TextBlock Text="مکان جلسه:" FontWeight="Bold" Height="20"/>
                            <TextBox x:Name="MeetingPlacePopupTB" Text="{Binding MeetingPlace}" IsReadOnly="True" Margin="5 0" Width="160" VerticalAlignment="Center"/>
                        </StackPanel>
                        <TextBlock Text="مهلت قانونی برای پیگیری در مراجع قضایی" 
                                   FontSize="16" FontWeight="Bold" Background="#007ACC" Foreground="White" Padding="10 0"
                                   Margin="0,0,0,10"/>
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Left">
                            <TextBlock Text="تاریخ آغاز:" FontWeight="Bold" Height="25"/>
                            <TextBox x:Name="MeetingStartDatePopupTB" Text="{Binding MeetingStartDate}" IsReadOnly="True" Width="160" Margin="5 0" VerticalAlignment="Center"/>
                            <TextBlock Text="تاریخ پایان:" FontWeight="Bold" Height="25"/>
                            <TextBox x:Name="MeetingEndDatePopupTB" Text="{Binding MeetingEndDate}" IsReadOnly="True" Width="165" Margin="5 0"/>
                        </StackPanel>
                        <TextBlock Text="توضیحات:" FontWeight="Bold" Margin="0,10,0,0"/>
                        <TextBox x:Name="MeetingDescriptionPopupTB" Text="{Binding Description}" IsReadOnly="True" TextWrapping="Wrap" Height="150" VerticalContentAlignment="Top" VerticalScrollBarVisibility="Auto"/>
                        <WrapPanel HorizontalAlignment="Right" Margin="0,20,0,0" Width="95">
                            <Button x:Name="MeetingDetailsPopupCloseBTN" Content="❌ بستن" Background="Crimson" Foreground="White" Cursor="Hand" Margin="20 0 0 0" Height="30" Click="MeetingDetailsPopupCloseBTN_Click"/>
                        </WrapPanel>
                    </StackPanel>
                </Border>
            </Grid>
            <!-- پاپ‌آپ و نمایش جزئیات -->
            <Grid x:Name="AddNotePopup" Visibility="Collapsed" Background="White" HorizontalAlignment="Center" VerticalAlignment="Center">
                <Border BorderBrush="#2B2B3A" BorderThickness="3" CornerRadius="5">
                    <Grid Margin="10">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <!-- Form Fields -->
                        <StackPanel Grid.Row="0">
                            <!-- Note Title -->
                            <TextBlock Text="عنوان یادداشت:" FontSize="14" FontWeight="Bold"/>
                            <TextBox x:Name="NoteTitleTB" Padding="5"/>
                            <!-- Note Category -->
                            <TextBlock Text="دسته‌بندی:" FontSize="14" FontWeight="Bold"/>
                            <ComboBox x:Name="NoteCategoryCB" Padding="5"/>

                            <!--<ComboBox x:Name="NoteCategoryCB" Padding="5">
                                --><!-- آیتم‌ها --><!--
                                <ComboBoxItem>شخصی</ComboBoxItem>
                                <ComboBoxItem>پرونده ها</ComboBoxItem>
                                <ComboBoxItem>جلسات</ComboBoxItem>
                                <ComboBoxItem>ایده ها</ComboBoxItem>
                                <ComboBoxItem>سایر</ComboBoxItem>
                            </ComboBox>-->
                            <!-- Note Description -->
                            <TextBlock Text="توضیحات:" FontSize="14" FontWeight="Bold"/>
                            <TextBox x:Name="NoteDescriptionTB" Margin="5"
                            AcceptsReturn="True" 
                            TextWrapping="Wrap" 
                            VerticalContentAlignment="Top" 
                            VerticalScrollBarVisibility="Auto"      
                            HorizontalScrollBarVisibility="Disabled" 
                            FontSize="12" 
                            Width="473"
                            Height="80"/>
                            <!-- Reminder -->
                            <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="0 10">
                                <CheckBox x:Name="NoteReminderCheckBox" Content="تنظیم یادآوری" FontSize="14" Margin="0,0,10,0" Checked="NoteReminderCheckBox_Checked" Unchecked="NoteReminderCheckBox_Unchecked"/>
                                <hc:PersianDatePicker x:Name="ReminderDateDP" IsEnabled="False" FontSize="14" Width="200"/>
                            </StackPanel>
                        </StackPanel>
                        <!-- Buttons -->
                        <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,0,0">
                            <Button x:Name="SubmitNoteBTN" Content="ذخیره" Cursor="Hand" Width="80" Height="35" Margin="0,0,10,0" Background="#4CAF50" Foreground="White" FontWeight="Bold" Click="SubmitNoteBTN_Click"/>
                            <Button x:Name="CancelNoteBTN" Content="لغو" Cursor="Hand" Width="80" Height="35" Background="#F44336" Foreground="White" FontWeight="Bold" Click="CancelNoteBTN_Click"/>
                        </StackPanel>
                    </Grid>
                </Border>
            </Grid>
            <!-- پاپ‌آپ و نمایش جزئیات -->
            <Grid x:Name="NoteDetailsPopup" Visibility="Collapsed"
                  HorizontalAlignment="Center" VerticalAlignment="Center"
                  Height="350"
                  Width="500" Panel.ZIndex="99">
                <Border Background="White" Padding="15" CornerRadius="10" BorderBrush="Black" BorderThickness="3" Width="500" Height="350">
                    <StackPanel>
                        <TextBlock Text="📜 جزئیات یادداشت" FontSize="18" FontWeight="Bold" Foreground="DarkBlue" Margin="0,0,0,25"/>
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Left">
                            <TextBlock Text="تاریخ یادآوری:" FontWeight="Bold" Height="25"/>
                            <TextBox x:Name="NoteReminderDatePopupTB" Text="{Binding SetDateShamsi}" IsReadOnly="True" Width="160" Margin="5 0" VerticalAlignment="Center"/>
                        </StackPanel>
                        <TextBlock Text="توضیحات:" FontWeight="Bold" Margin="0,10,0,0"/>
                        <TextBox x:Name="NoteDescriptionPopupTB" Text="{Binding Description}" IsReadOnly="True" TextWrapping="Wrap" Height="150" VerticalContentAlignment="Top" VerticalScrollBarVisibility="Auto"/>
                        <WrapPanel HorizontalAlignment="Right" Margin="0,20,0,0" Width="95">
                            <Button x:Name="NoteDetailsPopupCloseBTN" Content="❌ بستن" Background="Crimson" Foreground="White" Cursor="Hand" Margin="20 0 0 0" Height="30" Click="NoteDetailsPopupCloseBTN_Click"/>
                        </WrapPanel>
                    </StackPanel>
                </Border>
            </Grid>
        </Grid>
    </Border>
</Window>